import{c as d,r as m,j as e,u as x}from"./index-DvfI50mZ.js";import{M as u,a as g,b as h}from"./bottom-navigation-7WT2ED68.js";import{M as p}from"./mobile-header-Do9qfRWs.js";import{M as i}from"./mobile-button-DZJkoi57.js";import{M as b}from"./mobile-input-jpi_8qGO.js";import{m as j,a as f,b as n,T as y}from"./ticket-card-DJgEJEtg.js";import{S as k}from"./send-CKuU4KDZ.js";import{P as N}from"./plus-SrUStUvv.js";import{H as v}from"./history-B2k5rBuM.js";import"./credit-card-DfOMiA1p.js";import"./user-DQ_JBjmj.js";import"./toast-BrpPLZSF.js";import"./calendar-DahnAGMd.js";import"./message-circle-CJUpTqnV.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],C=d("paperclip",w);function M({onSubmit:l,onCancel:c}){const[s,r]=m.useState({title:"",description:"",category:"general",priority:"medium"}),o=t=>{t.preventDefault(),s.title.trim()&&s.description.trim()&&l(s)};return e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"หัวข้อปัญหา *"}),e.jsx(b,{value:s.title,onChange:t=>r(a=>({...a,title:t.target.value})),placeholder:"ระบุหัวข้อปัญหาที่พบ",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"รายละเอียดปัญหา *"}),e.jsx("textarea",{value:s.description,onChange:t=>r(a=>({...a,description:t.target.value})),placeholder:"อธิบายรายละเอียดของปัญหาให้ชัดเจน",className:"w-full p-3 rounded-xl focus:ring-2 focus:ring-[#EC1B2E] resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",rows:4,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"หมวดหมู่"}),e.jsx("select",{value:s.category,onChange:t=>r(a=>({...a,category:t.target.value})),className:"w-full p-3 rounded-xl focus:ring-2 focus:ring-[#EC1B2E] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:j.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ความเร่งด่วน"}),e.jsx("select",{value:s.priority,onChange:t=>r(a=>({...a,priority:t.target.value})),className:"w-full p-3 rounded-xl focus:ring-2 focus:ring-[#EC1B2E] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:f.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ไฟล์แนบ (ถ้ามี)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-200 dark:border-gray-600 rounded-xl p-6 text-center bg-gray-50 dark:bg-gray-700",children:[e.jsx(C,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"ลากไฟล์มาวางที่นี่ หรือ"}),e.jsx("button",{type:"button",className:"text-[#EC1B2E] text-sm font-medium hover:underline",children:"เลือกไฟล์"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(i,{type:"button",variant:"outline",className:"flex-1",onClick:c,children:"ยกเลิก"}),e.jsxs(i,{type:"submit",className:"flex-1 flex items-center justify-center",disabled:!s.title.trim()||!s.description.trim(),children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"ส่งคำร้อง"]})]})]})}function E(){const l=x(),[c,s]=m.useState(!1),r=t=>{},o=t=>{s(!1)};return e.jsxs(u,{children:[e.jsx(p,{title:"แจ้งปัญหา",showMoreMenu:!0}),e.jsx(g,{className:"pb-20",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(i,{onClick:()=>s(!0),className:"flex-1 flex items-center justify-center",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"แจ้งปัญหาใหม่"]}),e.jsxs(i,{variant:"outline",onClick:()=>l.navigate({to:"/ticket/history"}),className:"flex-1 flex items-center justify-center",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"ประวัติ"]})]}),c?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"แจ้งปัญหาใหม่"}),e.jsx(M,{onSubmit:o,onCancel:()=>s(!1)})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"ปัญหาล่าสุด"}),n.length>0?n.map(t=>e.jsx(y,{ticket:t,onViewDetail:r},t.id)):e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 py-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"🎫"})}),e.jsx("p",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-gray-100",children:"ยังไม่มีปัญหา"}),e.jsx("p",{className:"text-sm",children:'กดปุ่ม "แจ้งปัญหาใหม่" เพื่อเริ่มต้น'})]})]})]})}),e.jsx(h,{currentPath:"/ticket"})]})}const A=()=>e.jsx(E,{});export{A as component};
