import{c as v,F as w,u as C,j as e,C as l,T as m}from"./index-DvfI50mZ.js";import"./mobile-input-jpi_8qGO.js";import{M as o,a as d,b as x}from"./bottom-navigation-7WT2ED68.js";import{M as u}from"./mobile-header-Do9qfRWs.js";import{M as i}from"./mobile-button-DZJkoi57.js";import{m as k}from"./mock-data-DPUcImiK.js";import{C as h}from"./circle-x-C0tIkiuL.js";import{C as j}from"./calendar-DahnAGMd.js";import{M}from"./map-pin-CKM-zw41.js";import{C as p}from"./clock-CW01Z2g7.js";import{Q as g}from"./qr-code-Dp-kBiEB.js";import"./credit-card-DfOMiA1p.js";import"./user-DQ_JBjmj.js";import"./toast-BrpPLZSF.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],D=v("users",L);function A(){const{id:f}=w({from:"/coupon/$id"}),n=C(),s=k.find(t=>t.id===f);if(!s)return e.jsxs(o,{children:[e.jsx(u,{title:"ไม่พบคูปอง"}),e.jsx(d,{className:"pb-20",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(h,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"ไม่พบคูปอง"}),e.jsx("p",{className:"text-gray-500",children:"คูปองที่คุณค้นหาไม่มีอยู่"})]})}),e.jsx(x,{currentPath:"/coupon"})]});const a=t=>new Date(t).toLocaleDateString("th-TH",{day:"2-digit",month:"long",year:"numeric"}),N=()=>s.discountType==="percentage"?`ลด ${s.discountValue}%`:`ลด ${s.discountValue.toLocaleString()} บาท`,r=(()=>{switch(s.status){case"available":return{text:"รับได้",color:"text-green-600",bgColor:"bg-green-100",icon:e.jsx(l,{className:"w-4 h-4"})};case"claimed":return{text:"รับแล้ว",color:"text-blue-600",bgColor:"bg-blue-100",icon:e.jsx(p,{className:"w-4 h-4"})};case"used":return{text:"ใช้แล้ว",color:"text-gray-600",bgColor:"bg-gray-100",icon:e.jsx(l,{className:"w-4 h-4"})};case"expired":return{text:"หมดอายุ",color:"text-red-600",bgColor:"bg-red-100",icon:e.jsx(h,{className:"w-4 h-4"})};default:return{text:"ไม่ทราบ",color:"text-gray-600",bgColor:"bg-gray-100",icon:e.jsx(m,{className:"w-4 h-4"})}}})(),b=new Date(s.validUntil)<new Date,y=s.usageLimit&&s.usedCount>=s.usageLimit;return e.jsxs(o,{children:[e.jsx(u,{title:"รายละเอียดคูปอง"}),e.jsx(d,{className:"pb-20",children:e.jsxs("div",{className:"space-y-6",children:[s.imageUrl&&e.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-4 right-4",children:b?e.jsx("span",{className:"px-3 py-1 bg-red-500 text-white text-sm rounded-full",children:"หมดอายุ"}):y?e.jsx("span",{className:"px-3 py-1 bg-gray-500 text-white text-sm rounded-full",children:"ใช้หมดแล้ว"}):e.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-sm rounded-full",children:"ใช้งานได้"})})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1 ${r.bgColor} ${r.color}`,children:[r.icon,e.jsx("span",{children:r.text})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-[#EC1B2E] to-[#C20010] rounded-xl p-4 text-white text-center",children:[e.jsx("p",{className:"text-sm text-white/80 mb-1",children:"ส่วนลด"}),e.jsx("p",{className:"text-3xl font-bold",children:N()}),s.minAmount&&e.jsxs("p",{className:"text-sm text-white/80 mt-1",children:["ขั้นต่ำ ",s.minAmount.toLocaleString()," บาท"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(j,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"วันที่เริ่มต้น"})]}),e.jsx("span",{className:"font-medium",children:a(s.validFrom)})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(j,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"วันที่หมดอายุ"})]}),e.jsx("span",{className:"font-medium",children:a(s.validUntil)})]}),s.storeName&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(M,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"ร้าน"})]}),e.jsx("span",{className:"font-medium",children:s.storeName})]}),s.claimedAt&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(p,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"วันที่รับ"})]}),e.jsx("span",{className:"font-medium",children:a(s.claimedAt)})]}),s.usedAt&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(l,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"วันที่ใช้"})]}),e.jsx("span",{className:"font-medium",children:a(s.usedAt)})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(D,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"จำนวนการใช้งาน"})]}),e.jsxs("span",{className:"font-medium",children:[s.usedCount,s.usageLimit?`/${s.usageLimit}`:""]})]}),s.remainingCount&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"จำนวนที่เหลือ"})]}),e.jsxs("span",{className:"font-medium",children:[s.remainingCount," คูปอง"]})]}),s.maxDiscount&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(l,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"ส่วนลดสูงสุด"})]}),e.jsxs("span",{className:"font-medium",children:[s.maxDiscount.toLocaleString()," บาท"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"เงื่อนไขการใช้งาน"}),e.jsx("ul",{className:"space-y-2",children:s.terms.map((t,c)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-[#EC1B2E] rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-sm",children:t})]},c))})]}),e.jsxs("div",{className:"space-y-3",children:[s.status==="available"&&e.jsxs(i,{onClick:()=>{alert("รับคูปองสำเร็จ!")},className:"w-full",children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),"รับคูปอง"]}),s.status==="claimed"&&e.jsxs(i,{onClick:()=>n.navigate({to:"/coupon/qrcode",search:{couponId:s.id}}),className:"w-full",children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),"ใช้คูปอง"]}),(s.status==="used"||s.status==="expired")&&e.jsx("div",{className:"w-full bg-gray-100 text-gray-500 py-4 rounded-xl font-semibold text-lg text-center",children:s.status==="used"?"ใช้แล้ว":"หมดอายุแล้ว"}),e.jsx(i,{variant:"outline",onClick:()=>n.navigate({to:"/coupon"}),className:"w-full",children:"กลับไปยังรายการคูปอง"})]})]})}),e.jsx(x,{currentPath:"/profile"})]})}const X=A;export{X as component};
