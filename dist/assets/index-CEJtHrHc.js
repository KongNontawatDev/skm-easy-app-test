import{c as v,j as e,C as p,T as w,u as C,r as x}from"./index-DvfI50mZ.js";import{B as k,M,a as T,b as S}from"./bottom-navigation-7WT2ED68.js";import{M as E}from"./mobile-header-Do9qfRWs.js";import"./mobile-input-jpi_8qGO.js";import{A as R}from"./arrow-right-DQvcjnPt.js";import{C as B}from"./clock-CW01Z2g7.js";import{S as D,G as A}from"./settings-Bdf2VlyR.js";import{D as L}from"./dollar-sign-CngZTRFb.js";import{m as g}from"./mock-data-Cfr1GDYh.js";import{S as $}from"./search-DzawyNbN.js";import"./credit-card-DfOMiA1p.js";import"./user-DQ_JBjmj.js";import"./mobile-button-DZJkoi57.js";import"./toast-BrpPLZSF.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],I=v("trash-2",F);function V({notification:t,onViewDetail:l}){const m=a=>{const c=new Date(a),o=new Date().getTime()-c.getTime(),i=Math.floor(o/(1e3*60*60*24));return i===0?"วันนี้":i===1?"เมื่อวาน":i<7?`${i} วันที่แล้ว`:c.toLocaleDateString("th-TH",{day:"2-digit",month:"short",year:"numeric"})},n=a=>{switch(a){case"payment":return e.jsx(L,{className:"w-5 h-5"});case"promotion":return e.jsx(A,{className:"w-5 h-5"});case"system":return e.jsx(D,{className:"w-5 h-5"});case"reminder":return e.jsx(B,{className:"w-5 h-5"});case"alert":return e.jsx(w,{className:"w-5 h-5"});default:return e.jsx(k,{className:"w-5 h-5"})}},d=a=>{switch(a){case"payment":return"text-blue-600 bg-blue-100";case"promotion":return"text-purple-600 bg-purple-100";case"system":return"text-gray-600 bg-gray-100";case"reminder":return"text-yellow-600 bg-yellow-100";case"alert":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},r=a=>{switch(a){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-gray-400";default:return"bg-gray-400"}};return e.jsx("div",{className:`bg-white rounded-2xl p-4 cursor-pointer transition-all duration-200 ${t.isRead?"":"bg-red-50"}`,onClick:()=>l(t.id),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${d(t.type)}`,children:n(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-1",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[t.isImportant&&e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),!t.isRead&&e.jsx("div",{className:`w-2 h-2 rounded-full ${r(t.priority)}`})]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:t.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:m(t.createdAt)}),t.actionText&&e.jsxs("div",{className:"flex items-center text-[#EC1B2E] text-xs font-medium",children:[e.jsx("span",{children:t.actionText}),e.jsx(R,{className:"w-3 h-3 ml-1"})]})]})]}),t.isRead&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx(p,{className:"w-4 h-4 text-green-500"})})]})})}function H(){const t=C(),[l,m]=x.useState(""),[n,d]=x.useState("all"),[r,a]=x.useState("all"),c=g.filter(s=>{const f=s.title.toLowerCase().includes(l.toLowerCase())||s.message.toLowerCase().includes(l.toLowerCase()),b=n==="all"||s.type===n,N=r==="all"||r==="unread"&&!s.isRead||r==="read"&&s.isRead;return f&&b&&N}),u=s=>{t.navigate({to:"/notification/$id",params:{id:s}})},o=s=>{},i=()=>{},y=[{value:"all",label:"ทั้งหมด"},{value:"payment",label:"การชำระเงิน"},{value:"promotion",label:"โปรโมชั่น"},{value:"system",label:"ระบบ"},{value:"reminder",label:"แจ้งเตือน"},{value:"alert",label:"แจ้งเตือน"}],j=[{value:"all",label:"ทั้งหมด"},{value:"unread",label:"ยังไม่อ่าน"},{value:"read",label:"อ่านแล้ว"}],h=g.filter(s=>!s.isRead).length;return e.jsxs(M,{children:[e.jsx(E,{title:"แจ้งเตือน",showMoreMenu:!0}),e.jsx(T,{className:"pb-20",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"ค้นหาแจ้งเตือน",value:l,onChange:s=>m(s.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl focus:ring-2 focus:ring-[#EC1B2E] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("select",{value:n,onChange:s=>d(s.target.value),className:"p-3 rounded-xl focus:ring-2 focus:ring-[#EC1B2E] text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:y.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsx("select",{value:r,onChange:s=>a(s.target.value),className:"p-3 rounded-xl focus:ring-2 focus:ring-[#EC1B2E] text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:j.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]})]}),h>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["มี ",h," ข้อความที่ยังไม่อ่าน"]}),e.jsxs("button",{onClick:i,className:"flex items-center text-[#EC1B2E] text-sm font-medium",children:[e.jsx(p,{className:"w-4 h-4 mr-1"}),"อ่านทั้งหมด"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["แจ้งเตือน (",c.length,")"]}),e.jsxs("button",{className:"flex items-center text-gray-500 text-sm",children:[e.jsx(I,{className:"w-4 h-4 mr-1"}),"ลบทั้งหมด"]})]}),c.length>0?c.map(s=>e.jsx(V,{notification:s,onViewDetail:u,onMarkAsRead:o},s.id)):e.jsxs("div",{className:"text-center text-gray-500 py-10",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"🔔"})}),e.jsx("p",{className:"text-lg font-medium mb-2",children:l||n!=="all"||r!=="all"?"ไม่พบแจ้งเตือน":"ไม่มีแจ้งเตือน"}),e.jsx("p",{className:"text-sm",children:l||n!=="all"||r!=="all"?"ลองค้นหาด้วยคำอื่น":"แจ้งเตือนจะแสดงที่นี่"})]})]})]})}),e.jsx(S,{currentPath:"/notification"})]})}const ee=()=>e.jsx(H,{});export{ee as component};
