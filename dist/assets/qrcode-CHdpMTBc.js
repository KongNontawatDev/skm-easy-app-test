import{F as N,r as n,j as e,R as m,e as g,C as p}from"./index-DvfI50mZ.js";import{M as y,a as w,b as C}from"./bottom-navigation-7WT2ED68.js";import{M as v}from"./mobile-header-Do9qfRWs.js";import{M as i}from"./mobile-card-CKVJYUtr.js";import{M as d}from"./mobile-button-DZJkoi57.js";import"./mobile-input-jpi_8qGO.js";import{Q as k}from"./qr-code-Dp-kBiEB.js";import{D as R}from"./download-Bh3_JifW.js";import{S as E}from"./share-2-G2jGuvMD.js";import"./credit-card-DfOMiA1p.js";import"./user-DQ_JBjmj.js";import"./toast-BrpPLZSF.js";function Q(){const{id:x}=N({from:"/installment/pay/$id/qrcode"}),[s,a]=n.useState(!0),[r,c]=n.useState(null),t={id:x,contractNo:"CT-2024-001",installmentNo:13,amount:15e3};n.useEffect(()=>{(()=>{a(!0),c(new Date(Date.now()+9e5)),a(!1)})()},[t.id,t.amount,t.contractNo]);const h=l=>l.toLocaleString("th-TH"),j=l=>l.toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"}),u=()=>{a(!0),setTimeout(()=>{c(new Date(Date.now()+900*1e3)),a(!1)},1e3)},f=()=>{},b=()=>{},o=r&&new Date>r;return e.jsxs(y,{children:[e.jsx(v,{title:"QR Code ชำระเงิน",showBackButton:!0,onBackClick:()=>window.location.href=`/installment/pay/${t.id}`}),e.jsx(w,{className:"pb-20",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"QR Code ชำระเงิน"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["สัญญา: ",t.contractNo," • งวดที่ ",t.installmentNo]}),e.jsxs("div",{className:"text-3xl font-bold text-[#EC1B2E] mb-2",children:[h(t.amount)," ฿"]})]})}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"สแกน QR Code เพื่อชำระเงิน"}),s?e.jsx("div",{className:"w-64 h-64 mx-auto bg-gray-100 dark:bg-gray-700 rounded-2xl flex items-center justify-center",children:e.jsx(m,{className:"w-8 h-8 text-gray-400 animate-spin"})}):e.jsx("div",{className:"w-64 h-64 mx-auto bg-white dark:bg-gray-800 rounded-2xl border-2 border-gray-200 dark:border-gray-700 flex items-center justify-center",children:e.jsx("div",{className:"w-56 h-56 bg-gray-100 dark:bg-gray-700 rounded-xl flex items-center justify-center",children:e.jsx(k,{className:"w-32 h-32 text-gray-400"})})}),r&&!o&&e.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["QR Code หมดอายุใน ",j(r)]}),o&&e.jsxs("div",{className:"mt-4 flex items-center justify-center text-red-600 dark:text-red-400",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"QR Code หมดอายุแล้ว"})]})]})}),e.jsxs(i,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"วิธีการชำระเงิน"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#EC1B2E] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"1"}),e.jsx("p",{children:"เปิดแอปธนาคารหรือแอปชำระเงิน"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#EC1B2E] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"2"}),e.jsx("p",{children:'เลือกเมนู "สแกน QR Code"'})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#EC1B2E] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"3"}),e.jsx("p",{children:"สแกน QR Code ด้านบน"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#EC1B2E] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"4"}),e.jsx("p",{children:"ตรวจสอบข้อมูลและยืนยันการชำระเงิน"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(d,{onClick:u,disabled:s,className:"w-full",children:[e.jsx(m,{className:`w-5 h-5 mr-2 ${s?"animate-spin":""}`}),s?"กำลังสร้าง QR Code...":"สร้าง QR Code ใหม่"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(d,{variant:"outline",className:"w-full",onClick:f,children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"บันทึก"]}),e.jsxs(d,{variant:"outline",className:"w-full",onClick:b,children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"แชร์"]})]})]}),e.jsx(i,{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"การชำระเงินปลอดภัย"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"ระบบชำระเงินได้รับการรับรองมาตรฐานความปลอดภัยระดับสากล"})]})]})})]})}),e.jsx(C,{currentPath:"/installment"})]})}const I=()=>e.jsx(Q,{});export{I as component};
