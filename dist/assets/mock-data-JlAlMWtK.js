import{S as ce,s as ae,h as zt,g as ue,n as Kt,f as _t,r as N,i as le,k as fe,j as L,l as de}from"./index-DvfI50mZ.js";import{C as me}from"./camera-DYME2c1E.js";var pe=class extends ce{#n;#s=void 0;#t;#e;constructor(e,n){super(),this.#n=e,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#n.defaultMutationOptions(e),ae(this.options,n)||this.#n.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),n?.mutationKey&&this.options.mutationKey&&zt(n.mutationKey)!==zt(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#r(e)}getCurrentResult(){return this.#s}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#o(),this.#r()}mutate(e,n){return this.#e=n,this.#t?.removeObserver(this),this.#t=this.#n.getMutationCache().build(this.#n,this.options),this.#t.addObserver(this),this.#t.execute(e)}#o(){const e=this.#t?.state??ue();this.#s={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#r(e){Kt.batch(()=>{if(this.#e&&this.hasListeners()){const n=this.#s.variables,s=this.#s.context;e?.type==="success"?(this.#e.onSuccess?.(e.data,n,s),this.#e.onSettled?.(e.data,null,n,s)):e?.type==="error"&&(this.#e.onError?.(e.error,n,s),this.#e.onSettled?.(void 0,e.error,n,s))}this.listeners.forEach(n=>{n(this.#s)})})}};function he(t,e){const n=_t(),[s]=N.useState(()=>new pe(n,t));N.useEffect(()=>{s.setOptions(t)},[s,t]);const i=N.useSyncExternalStore(N.useCallback(o=>s.subscribe(Kt.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),r=N.useCallback((o,u)=>{s.mutate(o,u).catch(le)},[s]);if(i.error&&fe(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:r,mutateAsync:i.mutate}}function ge(t){return Object.prototype.toString.call(t)==="[object Object]"}function Vt(t){return ge(t)||Array.isArray(t)}function be(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Lt(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),r=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==r?!1:n.every(o=>{const u=t[o],c=e[o];return typeof u=="function"?`${u}`==`${c}`:!Vt(u)||!Vt(c)?u===c:Lt(u,c)})}function qt(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function xe(t,e){if(t.length!==e.length)return!1;const n=qt(t),s=qt(e);return n.every((i,r)=>{const o=s[r];return Lt(i,o)})}function Ct(t){return typeof t=="number"}function wt(t){return typeof t=="string"}function xt(t){return typeof t=="boolean"}function $t(t){return Object.prototype.toString.call(t)==="[object Object]"}function j(t){return Math.abs(t)}function Tt(t){return Math.sign(t)}function ft(t,e){return j(t-e)}function ye(t,e){if(t===0||e===0||j(t)<=j(e))return 0;const n=ft(j(t),j(e));return j(n/t)}function Se(t){return Math.round(t*100)/100}function dt(t){return mt(t).map(Number)}function R(t){return t[ht(t)]}function ht(t){return Math.max(0,t.length-1)}function Dt(t,e){return e===ht(t)}function Gt(t,e=0){return Array.from(Array(t),(n,s)=>e+s)}function mt(t){return Object.keys(t)}function Qt(t,e){return[t,e].reduce((n,s)=>(mt(s).forEach(i=>{const r=n[i],o=s[i],u=$t(r)&&$t(o);n[i]=u?Qt(r,o):o}),n),{})}function At(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function ve(t,e){const n={start:s,center:i,end:r};function s(){return 0}function i(c){return r(c)/2}function r(c){return e-c}function o(c,l){return wt(t)?n[t](c):t(e,c,l)}return{measure:o}}function pt(){let t=[];function e(i,r,o,u={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(r,o,u),c=()=>i.removeEventListener(r,o,u);else{const l=i;l.addListener(o),c=()=>l.removeListener(o)}return t.push(c),s}function n(){t=t.filter(i=>i())}const s={add:e,clear:n};return s}function Ie(t,e,n,s){const i=pt(),r=1e3/60;let o=null,u=0,c=0;function l(){i.add(t,"visibilitychange",()=>{t.hidden&&a()})}function h(){y(),i.clear()}function m(g){if(!c)return;o||(o=g,n(),n());const f=g-o;for(o=g,u+=f;u>=r;)n(),u-=r;const b=u/r;s(b),c&&(c=e.requestAnimationFrame(m))}function p(){c||(c=e.requestAnimationFrame(m))}function y(){e.cancelAnimationFrame(c),o=null,u=0,c=0}function a(){o=null,u=0}return{init:l,destroy:h,start:p,stop:y,update:n,render:s}}function Ee(t,e){const n=e==="rtl",s=t==="y",i=s?"y":"x",r=s?"x":"y",o=!s&&n?-1:1,u=h(),c=m();function l(a){const{height:d,width:g}=a;return s?d:g}function h(){return s?"top":n?"right":"left"}function m(){return s?"bottom":n?"left":"right"}function p(a){return a*o}return{scroll:i,cross:r,startEdge:u,endEdge:c,measureSize:l,direction:p}}function nt(t=0,e=0){const n=j(t-e);function s(l){return l<t}function i(l){return l>e}function r(l){return s(l)||i(l)}function o(l){return r(l)?s(l)?t:e:l}function u(l){return n?l-n*Math.ceil((l-e)/n):l}return{length:n,max:e,min:t,constrain:o,reachedAny:r,reachedMax:i,reachedMin:s,removeOffset:u}}function Xt(t,e,n){const{constrain:s}=nt(0,t),i=t+1;let r=o(e);function o(p){return n?j((i+p)%i):s(p)}function u(){return r}function c(p){return r=o(p),m}function l(p){return h().set(u()+p)}function h(){return Xt(t,u(),n)}const m={get:u,set:c,add:l,clone:h};return m}function we(t,e,n,s,i,r,o,u,c,l,h,m,p,y,a,d,g,f,b){const{cross:S,direction:E}=t,D=["INPUT","SELECT","TEXTAREA"],w={passive:!1},v=pt(),I=pt(),A=nt(50,225).constrain(y.measure(20)),M={mouse:300,touch:400},C={mouse:500,touch:600},B=a?43:25;let z=!1,V=0,q=0,W=!1,Y=!1,K=!1,_=!1;function it(x){if(!b)return;function T(F){(xt(b)||b(x,F))&&at(F)}const k=e;v.add(k,"dragstart",F=>F.preventDefault(),w).add(k,"touchmove",()=>{},w).add(k,"touchend",()=>{}).add(k,"touchstart",T).add(k,"mousedown",T).add(k,"touchcancel",P).add(k,"contextmenu",P).add(k,"click",X,!0)}function $(){v.clear(),I.clear()}function st(){const x=_?n:e;I.add(x,"touchmove",U,w).add(x,"touchend",P).add(x,"mousemove",U,w).add(x,"mouseup",P)}function ot(x){const T=x.nodeName||"";return D.includes(T)}function Q(){return(a?C:M)[_?"mouse":"touch"]}function ct(x,T){const k=m.add(Tt(x)*-1),F=h.byDistance(x,!a).distance;return a||j(x)<A?F:g&&T?F*.5:h.byIndex(k.get(),0).distance}function at(x){const T=At(x,s);_=T,K=a&&T&&!x.buttons&&z,z=ft(i.get(),o.get())>=2,!(T&&x.button!==0)&&(ot(x.target)||(W=!0,r.pointerDown(x),l.useFriction(0).useDuration(0),i.set(o),st(),V=r.readPoint(x),q=r.readPoint(x,S),p.emit("pointerDown")))}function U(x){if(!At(x,s)&&x.touches.length>=2)return P(x);const k=r.readPoint(x),F=r.readPoint(x,S),G=ft(k,V),J=ft(F,q);if(!Y&&!_&&(!x.cancelable||(Y=G>J,!Y)))return P(x);const tt=r.pointerMove(x);G>d&&(K=!0),l.useFriction(.3).useDuration(.75),u.start(),i.add(E(tt)),x.preventDefault()}function P(x){const k=h.byDistance(0,!1).index!==m.get(),F=r.pointerUp(x)*Q(),G=ct(E(F),k),J=ye(F,G),tt=B-10*J,Z=f+J/50;Y=!1,W=!1,I.clear(),l.useDuration(tt).useFriction(Z),c.distance(G,!a),_=!1,p.emit("pointerUp")}function X(x){K&&(x.stopPropagation(),x.preventDefault(),K=!1)}function H(){return W}return{init:it,destroy:$,pointerDown:H}}function Ae(t,e){let s,i;function r(m){return m.timeStamp}function o(m,p){const a=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(At(m,e)?m:m.touches[0])[a]}function u(m){return s=m,i=m,o(m)}function c(m){const p=o(m)-o(i),y=r(m)-r(s)>170;return i=m,y&&(s=m),p}function l(m){if(!s||!i)return 0;const p=o(i)-o(s),y=r(m)-r(s),a=r(m)-r(i)>170,d=p/y;return y&&!a&&j(d)>.1?d:0}return{pointerDown:u,pointerMove:c,pointerUp:l,readPoint:o}}function Le(){function t(n){const{offsetTop:s,offsetLeft:i,offsetWidth:r,offsetHeight:o}=n;return{top:s,right:i+r,bottom:s+o,left:i,width:r,height:o}}return{measure:t}}function Ce(t){function e(s){return t*(s/100)}return{measure:e}}function Te(t,e,n,s,i,r,o){const u=[t].concat(s);let c,l,h=[],m=!1;function p(g){return i.measureSize(o.measure(g))}function y(g){if(!r)return;l=p(t),h=s.map(p);function f(b){for(const S of b){if(m)return;const E=S.target===t,D=s.indexOf(S.target),w=E?l:h[D],v=p(E?t:s[D]);if(j(v-w)>=.5){g.reInit(),e.emit("resize");break}}}c=new ResizeObserver(b=>{(xt(r)||r(g,b))&&f(b)}),n.requestAnimationFrame(()=>{u.forEach(b=>c.observe(b))})}function a(){m=!0,c&&c.disconnect()}return{init:y,destroy:a}}function De(t,e,n,s,i,r){let o=0,u=0,c=i,l=r,h=t.get(),m=0;function p(){const w=s.get()-t.get(),v=!c;let I=0;return v?(o=0,n.set(s),t.set(s),I=w):(n.set(t),o+=w/c,o*=l,h+=o,t.add(o),I=h-m),u=Tt(I),m=h,D}function y(){const w=s.get()-e.get();return j(w)<.001}function a(){return c}function d(){return u}function g(){return o}function f(){return S(i)}function b(){return E(r)}function S(w){return c=w,D}function E(w){return l=w,D}const D={direction:d,duration:a,velocity:g,seek:p,settled:y,useBaseFriction:b,useBaseDuration:f,useFriction:E,useDuration:S};return D}function Oe(t,e,n,s,i){const r=i.measure(10),o=i.measure(50),u=nt(.1,.99);let c=!1;function l(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(y){if(!l())return;const a=t.reachedMin(e.get())?"min":"max",d=j(t[a]-e.get()),g=n.get()-e.get(),f=u.constrain(d/o);n.subtract(g*f),!y&&j(g)<r&&(n.set(t.constrain(n.get())),s.useDuration(25).useBaseFriction())}function m(y){c=!y}return{shouldConstrain:l,constrain:h,toggleActive:m}}function je(t,e,n,s,i){const r=nt(-e+t,0),o=m(),u=h(),c=p();function l(a,d){return ft(a,d)<=1}function h(){const a=o[0],d=R(o),g=o.lastIndexOf(a),f=o.indexOf(d)+1;return nt(g,f)}function m(){return n.map((a,d)=>{const{min:g,max:f}=r,b=r.constrain(a),S=!d,E=Dt(n,d);return S?f:E||l(g,b)?g:l(f,b)?f:b}).map(a=>parseFloat(a.toFixed(3)))}function p(){if(e<=t+i)return[r.max];if(s==="keepSnaps")return o;const{min:a,max:d}=u;return o.slice(a,d)}return{snapsContained:c,scrollContainLimit:u}}function Me(t,e,n){const s=e[0],i=n?s-t:R(e);return{limit:nt(i,s)}}function ke(t,e,n,s){const r=e.min+.1,o=e.max+.1,{reachedMin:u,reachedMax:c}=nt(r,o);function l(p){return p===1?c(n.get()):p===-1?u(n.get()):!1}function h(p){if(!l(p))return;const y=t*(p*-1);s.forEach(a=>a.add(y))}return{loop:h}}function Ne(t){const{max:e,length:n}=t;function s(r){const o=r-e;return n?o/-n:0}return{get:s}}function Pe(t,e,n,s,i){const{startEdge:r,endEdge:o}=t,{groupSlides:u}=i,c=m().map(e.measure),l=p(),h=y();function m(){return u(s).map(d=>R(d)[o]-d[0][r]).map(j)}function p(){return s.map(d=>n[r]-d[r]).map(d=>-j(d))}function y(){return u(l).map(d=>d[0]).map((d,g)=>d+c[g])}return{snaps:l,snapsAligned:h}}function Fe(t,e,n,s,i,r){const{groupSlides:o}=i,{min:u,max:c}=s,l=h();function h(){const p=o(r),y=!t||e==="keepSnaps";return n.length===1?[r]:y?p:p.slice(u,c).map((a,d,g)=>{const f=!d,b=Dt(g,d);if(f){const S=R(g[0])+1;return Gt(S)}if(b){const S=ht(r)-R(g)[0]+1;return Gt(S,R(g)[0])}return a})}return{slideRegistry:l}}function Be(t,e,n,s,i){const{reachedAny:r,removeOffset:o,constrain:u}=s;function c(a){return a.concat().sort((d,g)=>j(d)-j(g))[0]}function l(a){const d=t?o(a):u(a),g=e.map((b,S)=>({diff:h(b-d,0),index:S})).sort((b,S)=>j(b.diff)-j(S.diff)),{index:f}=g[0];return{index:f,distance:d}}function h(a,d){const g=[a,a+n,a-n];if(!t)return a;if(!d)return c(g);const f=g.filter(b=>Tt(b)===d);return f.length?c(f):R(g)-n}function m(a,d){const g=e[a]-i.get(),f=h(g,d);return{index:a,distance:f}}function p(a,d){const g=i.get()+a,{index:f,distance:b}=l(g),S=!t&&r(g);if(!d||S)return{index:f,distance:a};const E=e[f]-b,D=a+h(E,0);return{index:f,distance:D}}return{byDistance:p,byIndex:m,shortcut:h}}function Ue(t,e,n,s,i,r,o){function u(m){const p=m.distance,y=m.index!==e.get();r.add(p),p&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(m.index),o.emit("select"))}function c(m,p){const y=i.byDistance(m,p);u(y)}function l(m,p){const y=e.clone().set(m),a=i.byIndex(y.get(),p);u(a)}return{distance:c,index:l}}function He(t,e,n,s,i,r,o,u){const c={passive:!0,capture:!0};let l=0;function h(y){if(!u)return;function a(d){if(new Date().getTime()-l>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const b=n.findIndex(S=>S.includes(d));Ct(b)&&(i.useDuration(0),s.index(b,0),o.emit("slideFocus"))}r.add(document,"keydown",m,!1),e.forEach((d,g)=>{r.add(d,"focus",f=>{(xt(u)||u(y,f))&&a(g)},c)})}function m(y){y.code==="Tab"&&(l=new Date().getTime())}return{init:h}}function lt(t){let e=t;function n(){return e}function s(c){e=o(c)}function i(c){e+=o(c)}function r(c){e-=o(c)}function o(c){return Ct(c)?c:c.get()}return{get:n,set:s,add:i,subtract:r}}function Jt(t,e){const n=t.scroll==="x"?o:u,s=e.style;let i=null,r=!1;function o(p){return`translate3d(${p}px,0px,0px)`}function u(p){return`translate3d(0px,${p}px,0px)`}function c(p){if(r)return;const y=Se(t.direction(p));y!==i&&(s.transform=n(y),i=y)}function l(p){r=!p}function h(){r||(s.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:c,toggleActive:l}}function Re(t,e,n,s,i,r,o,u,c){const h=dt(i),m=dt(i).reverse(),p=f().concat(b());function y(v,I){return v.reduce((A,M)=>A-i[M],I)}function a(v,I){return v.reduce((A,M)=>y(A,I)>0?A.concat([M]):A,[])}function d(v){return r.map((I,A)=>({start:I-s[A]+.5+v,end:I+e-.5+v}))}function g(v,I,A){const M=d(I);return v.map(C=>{const B=A?0:-n,z=A?n:0,V=A?"end":"start",q=M[C][V];return{index:C,loopPoint:q,slideLocation:lt(-1),translate:Jt(t,c[C]),target:()=>u.get()>q?B:z}})}function f(){const v=o[0],I=a(m,v);return g(I,n,!1)}function b(){const v=e-o[0]-1,I=a(h,v);return g(I,-n,!0)}function S(){return p.every(({index:v})=>{const I=h.filter(A=>A!==v);return y(I,e)<=.1})}function E(){p.forEach(v=>{const{target:I,translate:A,slideLocation:M}=v,C=I();C!==M.get()&&(A.to(C),M.set(C))})}function D(){p.forEach(v=>v.translate.clear())}return{canLoop:S,clear:D,loop:E,loopPoints:p}}function ze(t,e,n){let s,i=!1;function r(c){if(!n)return;function l(h){for(const m of h)if(m.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(h=>{i||(xt(n)||n(c,h))&&l(h)}),s.observe(t,{childList:!0})}function o(){s&&s.disconnect(),i=!0}return{init:r,destroy:o}}function Ve(t,e,n,s){const i={};let r=null,o=null,u,c=!1;function l(){u=new IntersectionObserver(a=>{c||(a.forEach(d=>{const g=e.indexOf(d.target);i[g]=d}),r=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:s}),e.forEach(a=>u.observe(a))}function h(){u&&u.disconnect(),c=!0}function m(a){return mt(i).reduce((d,g)=>{const f=parseInt(g),{isIntersecting:b}=i[f];return(a&&b||!a&&!b)&&d.push(f),d},[])}function p(a=!0){if(a&&r)return r;if(!a&&o)return o;const d=m(a);return a&&(r=d),a||(o=d),d}return{init:l,destroy:h,get:p}}function qe(t,e,n,s,i,r){const{measureSize:o,startEdge:u,endEdge:c}=t,l=n[0]&&i,h=a(),m=d(),p=n.map(o),y=g();function a(){if(!l)return 0;const b=n[0];return j(e[u]-b[u])}function d(){if(!l)return 0;const b=r.getComputedStyle(R(s));return parseFloat(b.getPropertyValue(`margin-${c}`))}function g(){return n.map((b,S,E)=>{const D=!S,w=Dt(E,S);return D?p[S]+h:w?p[S]+m:E[S+1][u]-b[u]}).map(j)}return{slideSizes:p,slideSizesWithGaps:y,startGap:h,endGap:m}}function $e(t,e,n,s,i,r,o,u,c){const{startEdge:l,endEdge:h,direction:m}=t,p=Ct(n);function y(f,b){return dt(f).filter(S=>S%b===0).map(S=>f.slice(S,S+b))}function a(f){return f.length?dt(f).reduce((b,S,E)=>{const D=R(b)||0,w=D===0,v=S===ht(f),I=i[l]-r[D][l],A=i[l]-r[S][h],M=!s&&w?m(o):0,C=!s&&v?m(u):0,B=j(A-C-(I+M));return E&&B>e+c&&b.push(S),v&&b.push(f.length),b},[]).map((b,S,E)=>{const D=Math.max(E[S-1]||0);return f.slice(D,b)}):[]}function d(f){return p?y(f,n):a(f)}return{groupSlides:d}}function Ge(t,e,n,s,i,r,o){const{align:u,axis:c,direction:l,startIndex:h,loop:m,duration:p,dragFree:y,dragThreshold:a,inViewThreshold:d,slidesToScroll:g,skipSnaps:f,containScroll:b,watchResize:S,watchSlides:E,watchDrag:D,watchFocus:w}=r,v=2,I=Le(),A=I.measure(e),M=n.map(I.measure),C=Ee(c,l),B=C.measureSize(A),z=Ce(B),V=ve(u,B),q=!m&&!!b,W=m||!!b,{slideSizes:Y,slideSizesWithGaps:K,startGap:_,endGap:it}=qe(C,A,M,n,W,i),$=$e(C,B,g,m,A,M,_,it,v),{snaps:st,snapsAligned:ot}=Pe(C,V,A,M,$),Q=-R(st)+R(K),{snapsContained:ct,scrollContainLimit:at}=je(B,Q,ot,b,v),U=q?ct:ot,{limit:P}=Me(Q,U,m),X=Xt(ht(U),h,m),H=X.clone(),O=dt(n),x=({dragHandler:rt,scrollBody:It,scrollBounds:Et,options:{loop:gt}})=>{gt||Et.constrain(rt.pointerDown()),It.seek()},T=({scrollBody:rt,translate:It,location:Et,offsetLocation:gt,previousLocation:Wt,scrollLooper:te,slideLooper:ee,dragHandler:ne,animation:se,eventHandler:Pt,scrollBounds:oe,options:{loop:Ft}},Bt)=>{const Ut=rt.settled(),re=!oe.shouldConstrain(),Ht=Ft?Ut:Ut&&re,Rt=Ht&&!ne.pointerDown();Rt&&se.stop();const ie=Et.get()*Bt+Wt.get()*(1-Bt);gt.set(ie),Ft&&(te.loop(rt.direction()),ee.loop()),It.to(gt.get()),Rt&&Pt.emit("settle"),Ht||Pt.emit("scroll")},k=Ie(s,i,()=>x(vt),rt=>T(vt,rt)),F=.68,G=U[X.get()],J=lt(G),tt=lt(G),Z=lt(G),et=lt(G),ut=De(J,Z,tt,et,p,F),yt=Be(m,U,Q,P,et),St=Ue(k,X,H,ut,yt,et,o),Mt=Ne(P),kt=pt(),Yt=Ve(e,n,o,d),{slideRegistry:Nt}=Fe(q,b,U,at,$,O),Zt=He(t,n,Nt,St,ut,kt,o,w),vt={ownerDocument:s,ownerWindow:i,eventHandler:o,containerRect:A,slideRects:M,animation:k,axis:C,dragHandler:we(C,t,s,i,et,Ae(C,i),J,k,St,ut,yt,X,o,z,y,a,f,F,D),eventStore:kt,percentOfView:z,index:X,indexPrevious:H,limit:P,location:J,offsetLocation:Z,previousLocation:tt,options:r,resizeHandler:Te(e,o,i,n,C,S,I),scrollBody:ut,scrollBounds:Oe(P,Z,et,ut,z),scrollLooper:ke(Q,P,Z,[J,Z,tt,et]),scrollProgress:Mt,scrollSnapList:U.map(Mt.get),scrollSnaps:U,scrollTarget:yt,scrollTo:St,slideLooper:Re(C,B,Q,Y,K,st,U,Z,n),slideFocus:Zt,slidesHandler:ze(e,o,E),slidesInView:Yt,slideIndexes:O,slideRegistry:Nt,slidesToScroll:$,target:et,translate:Jt(C,e)};return vt}function Ke(){let t={},e;function n(l){e=l}function s(l){return t[l]||[]}function i(l){return s(l).forEach(h=>h(e,l)),c}function r(l,h){return t[l]=s(l).concat([h]),c}function o(l,h){return t[l]=s(l).filter(m=>m!==h),c}function u(){t={}}const c={init:n,emit:i,off:o,on:r,clear:u};return c}const _e={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Qe(t){function e(r,o){return Qt(r,o||{})}function n(r){const o=r.breakpoints||{},u=mt(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,l)=>e(c,l),{});return e(r,u)}function s(r){return r.map(o=>mt(o.breakpoints||{})).reduce((o,u)=>o.concat(u),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:s}}function Xe(t){let e=[];function n(r,o){return e=o.filter(({options:u})=>t.optionsAtMedia(u).active!==!1),e.forEach(u=>u.init(r,t)),o.reduce((u,c)=>Object.assign(u,{[c.name]:c}),{})}function s(){e=e.filter(r=>r.destroy())}return{init:n,destroy:s}}function bt(t,e,n){const s=t.ownerDocument,i=s.defaultView,r=Qe(i),o=Xe(r),u=pt(),c=Ke(),{mergeOptions:l,optionsAtMedia:h,optionsMediaQueries:m}=r,{on:p,off:y,emit:a}=c,d=C;let g=!1,f,b=l(_e,bt.globalOptions),S=l(b),E=[],D,w,v;function I(){const{container:O,slides:x}=S;w=(wt(O)?t.querySelector(O):O)||t.children[0];const k=wt(x)?w.querySelectorAll(x):x;v=[].slice.call(k||w.children)}function A(O){const x=Ge(t,w,v,s,i,O,c);if(O.loop&&!x.slideLooper.canLoop()){const T=Object.assign({},O,{loop:!1});return A(T)}return x}function M(O,x){g||(b=l(b,O),S=h(b),E=x||E,I(),f=A(S),m([b,...E.map(({options:T})=>T)]).forEach(T=>u.add(T,"change",C)),S.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(H),f.eventHandler.init(H),f.resizeHandler.init(H),f.slidesHandler.init(H),f.options.loop&&f.slideLooper.loop(),w.offsetParent&&v.length&&f.dragHandler.init(H),D=o.init(H,E)))}function C(O,x){const T=$();B(),M(l({startIndex:T},O),x),c.emit("reInit")}function B(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),o.destroy(),u.clear()}function z(){g||(g=!0,u.clear(),B(),c.emit("destroy"),c.clear())}function V(O,x,T){!S.active||g||(f.scrollBody.useBaseFriction().useDuration(x===!0?0:S.duration),f.scrollTo.index(O,T||0))}function q(O){const x=f.index.add(1).get();V(x,O,-1)}function W(O){const x=f.index.add(-1).get();V(x,O,1)}function Y(){return f.index.add(1).get()!==$()}function K(){return f.index.add(-1).get()!==$()}function _(){return f.scrollSnapList}function it(){return f.scrollProgress.get(f.offsetLocation.get())}function $(){return f.index.get()}function st(){return f.indexPrevious.get()}function ot(){return f.slidesInView.get()}function Q(){return f.slidesInView.get(!1)}function ct(){return D}function at(){return f}function U(){return t}function P(){return w}function X(){return v}const H={canScrollNext:Y,canScrollPrev:K,containerNode:P,internalEngine:at,destroy:z,off:y,on:p,emit:a,plugins:ct,previousScrollSnap:st,reInit:d,rootNode:U,scrollNext:q,scrollPrev:W,scrollProgress:it,scrollSnapList:_,scrollTo:V,selectedScrollSnap:$,slideNodes:X,slidesInView:ot,slidesNotInView:Q};return M(e,n),setTimeout(()=>c.emit("init"),0),H}bt.globalOptions=void 0;function Ot(t={},e=[]){const n=N.useRef(t),s=N.useRef(e),[i,r]=N.useState(),[o,u]=N.useState(),c=N.useCallback(()=>{i&&i.reInit(n.current,s.current)},[i]);return N.useEffect(()=>{Lt(n.current,t)||(n.current=t,c())},[t,c]),N.useEffect(()=>{xe(s.current,e)||(s.current=e,c())},[e,c]),N.useEffect(()=>{if(be()&&o){bt.globalOptions=Ot.globalOptions;const l=bt(o,n.current,s.current);return r(l),()=>l.destroy()}else r(void 0)},[o,r]),[u,i]}Ot.globalOptions=void 0;const Je="linear-gradient(135deg, rgba(236, 27, 46, 0.2), rgba(194, 0, 16, 0.14))";function sn({contracts:t,onImageUpload:e,onContractChange:n,className:s}){const[i,r]=Ot({align:"center"}),[o,u]=N.useState(0),[c,l]=N.useState(null),h=N.useRef(null);N.useEffect(()=>{if(!r)return;const a=()=>{const d=r.selectedScrollSnap();u(d),n?.(d)};r.on("select",a),a()},[r,n]);const m=a=>{h.current&&(h.current.setAttribute("data-contract-id",a),h.current.click())},p=a=>{const d=a.target.files?.[0],g=a.target.getAttribute("data-contract-id");d&&g&&e&&(l(g),e(g,d),setTimeout(()=>l(null),2e3)),a.target.value=""},y=a=>new Date(a).toLocaleDateString("th-TH",{day:"2-digit",month:"short",year:"numeric"});return t.length===0?L.jsx("div",{className:`p-6 text-center ${s}`,children:L.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[L.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:L.jsx("span",{className:"text-2xl",children:"🚗"})}),L.jsx("p",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-gray-100",children:"ไม่มีข้อมูลสัญญา"}),L.jsx("p",{className:"text-sm",children:"เริ่มต้นการผ่อนชำระรถคันแรกของคุณ"})]})}):L.jsxs("div",{className:`relative ${s}`,children:[L.jsx("div",{className:"flex items-center justify-between mb-4",children:L.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["สัญญาของฉัน (",t.length,")"]})}),L.jsx("div",{className:"overflow-hidden",ref:i,children:L.jsx("div",{className:"flex gap-3",children:t.map(a=>L.jsx("div",{className:"shrink-0 basis-[90%]",children:L.jsxs("div",{className:"rounded-2xl p-0 bg-white dark:bg-gray-800",children:[L.jsxs("div",{className:"relative rounded-t-2xl",style:{height:140,background:Je},children:[(a.vehicleInfo.customImageUrl||a.vehicleInfo.imageUrl)&&L.jsx("img",{src:a.vehicleInfo.customImageUrl||a.vehicleInfo.imageUrl,alt:`${a.vehicleInfo.brand} ${a.vehicleInfo.model}`,className:"absolute inset-0 w-full h-full object-cover rounded-t-2xl",loading:"lazy"}),L.jsx("button",{type:"button",onClick:()=>m(a.id),disabled:c===a.id,className:"absolute right-2 top-2 h-8 px-2 rounded-full text-xs bg-white/80 hover:bg-white transition-colors disabled:opacity-50",children:c===a.id?L.jsx("div",{className:"w-3 h-3 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):L.jsxs(L.Fragment,{children:[L.jsx(me,{className:"w-3 h-3 inline mr-1"}),"เปลี่ยนรูป"]})}),L.jsxs("div",{className:"absolute left-2 bottom-2 rounded-md px-2 py-1 text-[11px] bg-white/80",children:["งวดถัดไป ",y(a.nextPaymentDate)," •",L.jsxs("b",{className:"text-[#EC1B2E] ml-1",children:[a.remainingAmount.toLocaleString("th-TH")," ฿"]})]})]}),L.jsxs("div",{className:"p-3",children:[L.jsxs("div",{className:"text-sm font-semibold text-[#EC1B2E]",children:[a.vehicleInfo.brand," ",a.vehicleInfo.model]}),L.jsxs("div",{className:"text-xs text-gray-500",children:["สัญญา: ",a.contractNumber," • สี ",a.vehicleInfo.color]})]})]})},a.id))})}),L.jsx("div",{className:"flex items-center justify-center gap-1.5 mt-4",children:t.map((a,d)=>L.jsx("span",{onClick:()=>r?.scrollTo(d),className:"h-[6px] w-[10px] rounded-full cursor-pointer transition-colors",style:{background:d===o?"#EC1B2E":"rgba(0, 0, 0, 0.25)"}},d))}),L.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:p,className:"hidden"})]})}const jt=de.create({baseURL:"http://localhost:3000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});jt.interceptors.request.use(t=>{const e=localStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));jt.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("auth_token"),window.location.href="/auth/sign-in"),Promise.reject(t)));const on=()=>{const t=_t();return he({mutationFn:async({contractId:e,file:n})=>{const s=new FormData;return s.append("image",n),s.append("contractId",e),(await jt.post("/contracts/upload-image",s,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{t.invalidateQueries({queryKey:["contract-cards"]}),t.invalidateQueries({queryKey:["home-data"]})}})},Ye=[{id:"1",contractNumber:"CT-2024-001",vehicleInfo:{brand:"Honda",model:"CBR150R",year:2023,color:"แดง",imageUrl:"https://s38.wheelsage.org/picture/h/honda/cbr1000rr_sp/honda_cbr1000rr_sp_8.jpeg"},remainingAmount:18e4,nextPaymentDate:"2024-02-15",status:"active",progress:65},{id:"2",contractNumber:"CT-2024-002",vehicleInfo:{brand:"Honda",model:"PCX160",year:2022,color:"ดำ",imageUrl:"https://img.motofiixthailand.com/asset/files/17345971816726901.webp"},remainingAmount:12e4,nextPaymentDate:"2024-02-20",status:"active",progress:80},{id:"3",contractNumber:"CT-2024-003",vehicleInfo:{brand:"Honda",model:"Wave 125i",year:2021,color:"เงิน",imageUrl:"https://s359.kapook.com/rq/600/auto/10/pagebuilder/d00209a5-b85a-4592-8cd5-3955b2d799c2.jpg"},remainingAmount:45e3,nextPaymentDate:"2024-02-25",status:"overdue",progress:90}],rn={1:{totalAmount:35e4,paidAmount:17e4,nextDueDate:"2024-02-15",installmentIndex:8,totalInstallments:24},2:{totalAmount:28e4,paidAmount:16e4,nextDueDate:"2024-02-20",installmentIndex:12,totalInstallments:20},3:{totalAmount:15e4,paidAmount:105e3,nextDueDate:"2024-02-25",installmentIndex:18,totalInstallments:20}},Ze=[{id:"1",title:"โปรโมชั่น",icon:"🎉",path:"/promotion",color:"bg-red-50 text-red-600"},{id:"2",title:"คู่มือการใช้งาน",icon:"📖",path:"/guide",color:"bg-blue-50 text-blue-600"},{id:"3",title:"ติดต่อ Honda",icon:"📞",path:"/contact",color:"bg-green-50 text-green-600"},{id:"4",title:"ประวัติการชำระ",icon:"📋",path:"/receipt",color:"bg-purple-50 text-purple-600"},{id:"5",title:"คูปองส่วนลด",icon:"🎫",path:"/coupon",color:"bg-yellow-50 text-yellow-600"},{id:"6",title:"การตั้งค่า",icon:"⚙️",path:"/settings",color:"bg-gray-50 text-gray-600"}],We=[{id:"1",title:"ลดดอกเบี้ย 0.5%",description:"สำหรับลูกค้า Honda ใหม่ที่สมัครในเดือนนี้",imageUrl:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=200&fit=crop",actionUrl:"/promotions/interest-reduction",isActive:!0},{id:"2",title:"โปรโมชั่นพิเศษ Honda",description:"ผ่อน 0% นาน 6 เดือน สำหรับรถ Honda",imageUrl:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=200&fit=crop",actionUrl:"/promotions/special-offer",isActive:!0}],cn={contracts:Ye,quickMenu:Ze,promotions:We};export{sn as C,rn as a,cn as m,on as u};
